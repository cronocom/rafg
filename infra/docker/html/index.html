<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAGF Demo - Fintech Compliance</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-2">RAGF Fintech Demo</h1>
            <p class="text-xl text-gray-600">PSD2/AML Compliance Validation in Real-Time</p>
            
            <!-- Language Toggle -->
            <div class="mt-4 flex justify-center gap-2">
                <button onclick="setLanguage('en')" id="lang-en" class="px-4 py-2 rounded-lg bg-blue-500 text-white font-semibold">English</button>
                <button onclick="setLanguage('es')" id="lang-es" class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold">Espa√±ol</button>
            </div>
        </header>

        <!-- Tabs Navigation -->
        <div class="flex justify-center mb-8 border-b border-gray-300 overflow-x-auto">
            <button onclick="showTab('demo')" id="tab-demo" class="px-6 py-3 font-semibold border-b-2 border-blue-500 text-blue-600 whitespace-nowrap">
                <span class="lang-en">Demo</span>
                <span class="lang-es hidden">Demo</span>
            </button>
            <button onclick="showTab('how-it-works')" id="tab-how" class="px-6 py-3 font-semibold text-gray-600 hover:text-gray-900 whitespace-nowrap">
                <span class="lang-en">How It Works</span>
                <span class="lang-es hidden">C√≥mo Funciona</span>
            </button>
            <button onclick="showTab('integration')" id="tab-integration" class="px-6 py-3 font-semibold text-gray-600 hover:text-gray-900 whitespace-nowrap">
                <span class="lang-en">Integration</span>
                <span class="lang-es hidden">Integraci√≥n</span>
            </button>
            <a href="http://localhost:8000/docs" target="_blank" class="px-6 py-3 font-semibold text-gray-600 hover:text-gray-900 whitespace-nowrap">API Docs</a>
        </div>

        <!-- Tab: Demo -->
        <div id="content-demo" class="tab-content">
            <div id="scenarios" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"></div>
            <div id="result" class="hidden mt-8 p-8 rounded-lg border-2 bg-white shadow-lg transition-all">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">
                        <span class="lang-en">Validation Result</span>
                        <span class="lang-es hidden">Resultado de Validaci√≥n</span>
                    </h3>
                    <div id="decision-badge"></div>
                </div>
                <div class="space-y-6">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-gray-700 mb-2">
                            <span class="lang-en">Why this decision?</span>
                            <span class="lang-es hidden">¬øPor qu√© esta decisi√≥n?</span>
                        </h4>
                        <p id="reason" class="text-gray-800 text-lg"></p>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                        <h4 class="font-semibold text-blue-900 mb-2">
                            <span class="lang-en">What you should know</span>
                            <span class="lang-es hidden">Lo que debes saber</span>
                        </h4>
                        <p id="teaching-point" class="text-blue-800"></p>
                    </div>
                    <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
                        <h4 class="font-semibold text-yellow-900 mb-2">
                            <span class="lang-en">Legal basis</span>
                            <span class="lang-es hidden">Base legal</span>
                        </h4>
                        <p id="regulatory" class="text-sm text-yellow-800 font-mono"></p>
                    </div>
                    <div id="remediation-section" class="hidden bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                        <h4 class="font-semibold text-green-900 mb-2">
                            <span class="lang-en">What to do next</span>
                            <span class="lang-es hidden">Qu√© hacer</span>
                        </h4>
                        <p id="remediation" class="text-green-800"></p>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-purple-50 p-4 rounded-lg text-center">
                            <div class="text-3xl font-bold text-purple-600" id="latency">--</div>
                            <div class="text-sm text-purple-800">
                                <span class="lang-en">Latency</span>
                                <span class="lang-es hidden">Latencia</span>
                            </div>
                        </div>
                        <div class="bg-indigo-50 p-4 rounded-lg text-center">
                            <div class="text-3xl font-bold text-indigo-600" id="scenario-id">--</div>
                            <div class="text-sm text-indigo-800">Scenario ID</div>
                        </div>
                    </div>
                    <details class="bg-gray-100 p-4 rounded-lg">
                        <summary class="cursor-pointer font-semibold">
                            <span class="lang-en">üìã Transaction Details</span>
                            <span class="lang-es hidden">üìã Detalles</span>
                        </summary>
                        <pre id="action-payload" class="mt-4 text-xs bg-white p-4 rounded overflow-x-auto"></pre>
                    </details>
                </div>
            </div>
        </div>

        <!-- Tab: How It Works -->
        <div id="content-how-it-works" class="tab-content hidden">
            <div class="lang-en">
                <div class="bg-white p-8 rounded-lg shadow-lg max-w-5xl mx-auto prose prose-lg">
                    <h2 class="text-3xl font-bold mb-6">How RAGF Works</h2>
                    <div class="bg-blue-50 p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold">üéØ The Problem</h3>
                        <p>AI agents in regulated industries must comply with strict regulations while operating autonomously. Traditional approaches try to make the AI itself "compliant," but LLMs are probabilistic by nature.</p>
                    </div>
                    <div class="bg-green-50 p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold">üí° The Solution</h3>
                        <p><strong>RAGF</strong> separates the probabilistic LLM (reasoning) from deterministic validation (compliance enforcement).</p>
                        <div class="mt-4 space-y-2 text-sm">
                            <div>ü§ñ <strong>LLM:</strong> Thinks and plans actions</div>
                            <div>üõ°Ô∏è <strong>RAGF:</strong> Validates before execution</div>
                            <div>‚öôÔ∏è <strong>System:</strong> Executes only if validated</div>
                        </div>
                    </div>
                    <div class="bg-gray-100 p-6 rounded-lg mb-6 font-mono text-sm">
                        <h4 class="font-bold mb-3">Validation Flow:</h4>
                        <div class="space-y-1">
                            <div>1. Agent ‚Üí <span class="text-blue-600">{amount: 350}</span></div>
                            <div>2. RAGF ‚Üí Sequential checks</div>
                            <div class="ml-4">‚îú‚îÄ PSD2 Limit ‚Üí <span class="text-green-600">PASS</span></div>
                            <div class="ml-4">‚îú‚îÄ SCA Required ‚Üí <span class="text-yellow-600">ESCALATE</span></div>
                            <div class="ml-4">‚îî‚îÄ Stop (fail-fast)</div>
                            <div>3. Decision ‚Üí <strong>ESCALATE</strong></div>
                        </div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-green-50 p-4 rounded">
                            <h4 class="font-bold">‚úì Fail-Closed</h4>
                            <p class="text-sm">Denies if fails or >200ms</p>
                        </div>
                        <div class="bg-blue-50 p-4 rounded">
                            <h4 class="font-bold">üìã Audit Trail</h4>
                            <p class="text-sm">Every decision logged</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded">
                            <h4 class="font-bold">‚ö° Fast</h4>
                            <p class="text-sm">Typical: 0.1-20ms</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded">
                            <h4 class="font-bold">üéØ Regulated</h4>
                            <p class="text-sm">PSD2, AML, MiCA ready</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="lang-es hidden">
                <div class="bg-white p-8 rounded-lg shadow-lg max-w-5xl mx-auto prose prose-lg">
                    <h2 class="text-3xl font-bold mb-6">C√≥mo Funciona RAGF</h2>
                    <div class="bg-blue-50 p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold">üéØ El Problema</h3>
                        <p>Los agentes de IA en industrias reguladas deben cumplir regulaciones estrictas operando aut√≥nomamente. Los LLMs son probabil√≠sticos por naturaleza.</p>
                    </div>
                    <div class="bg-green-50 p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold">üí° La Soluci√≥n</h3>
                        <p><strong>RAGF</strong> separa el LLM probabil√≠stico (razonamiento) de la validaci√≥n determinista (cumplimiento).</p>
                        <div class="mt-4 space-y-2 text-sm">
                            <div>ü§ñ <strong>LLM:</strong> Piensa y planifica acciones</div>
                            <div>üõ°Ô∏è <strong>RAGF:</strong> Valida antes de ejecutar</div>
                            <div>‚öôÔ∏è <strong>Sistema:</strong> Ejecuta solo si validado</div>
                        </div>
                    </div>
                    <div class="bg-gray-100 p-6 rounded-lg mb-6 font-mono text-sm">
                        <h4 class="font-bold mb-3">Flujo de Validaci√≥n:</h4>
                        <div class="space-y-1">
                            <div>1. Agente ‚Üí <span class="text-blue-600">{monto: 350}</span></div>
                            <div>2. RAGF ‚Üí Verificaciones secuenciales</div>
                            <div class="ml-4">‚îú‚îÄ L√≠mite PSD2 ‚Üí <span class="text-green-600">OK</span></div>
                            <div class="ml-4">‚îú‚îÄ SCA Requerida ‚Üí <span class="text-yellow-600">ESCALAR</span></div>
                            <div class="ml-4">‚îî‚îÄ Detener (fail-fast)</div>
                            <div>3. Decisi√≥n ‚Üí <strong>ESCALAR</strong></div>
                        </div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-green-50 p-4 rounded">
                            <h4 class="font-bold">‚úì Fail-Closed</h4>
                            <p class="text-sm">Deniega si falla o >200ms</p>
                        </div>
                        <div class="bg-blue-50 p-4 rounded">
                            <h4 class="font-bold">üìã Trazabilidad</h4>
                            <p class="text-sm">Cada decisi√≥n registrada</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded">
                            <h4 class="font-bold">‚ö° R√°pido</h4>
                            <p class="text-sm">T√≠pico: 0.1-20ms</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded">
                            <h4 class="font-bold">üéØ Regulado</h4>
                            <p class="text-sm">PSD2, AML, MiCA</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: Integration -->
        <div id="content-integration" class="tab-content hidden">
            <div class="lang-en">
                <div class="bg-white p-8 rounded-lg shadow-lg max-w-5xl mx-auto">
                    <h2 class="text-3xl font-bold mb-6">Integration Guide</h2>
                    <div class="bg-blue-50 p-6 rounded-lg mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-3">ü§î The Key Question</h3>
                        <p class="text-blue-800 text-lg italic mb-2">"Do I need to move my agent code? Change my architecture? Call an API?"</p>
                        <p class="text-blue-700 font-semibold">Answer: You choose! RAGF adapts to YOUR infrastructure.</p>
                    </div>
                    <h3 class="text-2xl font-semibold mb-6">üöÄ Three Deployment Options</h3>
                    <div class="grid md:grid-cols-3 gap-6 mb-10">
                        <div class="border-2 border-blue-500 rounded-lg p-6 hover:shadow-xl transition">
                            <div class="text-4xl mb-3">‚òÅÔ∏è</div>
                            <h4 class="text-xl font-bold text-blue-600 mb-2">SaaS API</h4>
                            <p class="text-sm text-gray-600 mb-4">Call our hosted service</p>
                            <div class="space-y-2 text-sm">
                                <div>‚úì 5-minute setup</div>
                                <div>‚úì Auto-updated</div>
                                <div>‚úì Zero infrastructure</div>
                            </div>
                            <div class="mt-4 pt-4 border-t text-sm"><strong>Best for:</strong> Startups, Fintechs</div>
                        </div>
                        <div class="border-2 border-purple-500 rounded-lg p-6 hover:shadow-xl transition">
                            <div class="text-4xl mb-3">üè¢</div>
                            <h4 class="text-xl font-bold text-purple-600 mb-2">Self-Hosted</h4>
                            <p class="text-sm text-gray-600 mb-4">Run in your infrastructure</p>
                            <div class="space-y-2 text-sm">
                                <div>‚úì Data stays in-house</div>
                                <div>‚úì Sub-5ms latency</div>
                                <div>‚úì Full control</div>
                            </div>
                            <div class="mt-4 pt-4 border-t text-sm"><strong>Best for:</strong> Banks, Enterprises</div>
                        </div>
                        <div class="border-2 border-green-500 rounded-lg p-6 hover:shadow-xl transition">
                            <div class="text-4xl mb-3">üîÑ</div>
                            <h4 class="text-xl font-bold text-green-600 mb-2">Hybrid</h4>
                            <p class="text-sm text-gray-600 mb-4">Best of both worlds</p>
                            <div class="space-y-2 text-sm">
                                <div>‚úì Critical on-prem</div>
                                <div>‚úì Others via API</div>
                                <div>‚úì Gradual migration</div>
                            </div>
                            <div class="mt-4 pt-4 border-t text-sm"><strong>Best for:</strong> Growing Teams</div>
                        </div>
                    </div>
                    <h3 class="text-2xl font-semibold mb-4">üîÑ Integration Flow</h3>
                    <div class="bg-gray-50 p-6 rounded-lg mb-8">
                        <div class="space-y-3 font-mono text-sm">
                            <div class="flex items-center">
                                <span class="w-32 font-bold text-blue-600">Your Agent</span>
                                <span class="flex-1 border-t-2 border-blue-300 mx-2"></span>
                                <span class="text-gray-500">proposes action</span>
                            </div>
                            <div class="flex items-center">
                                <span class="w-32 font-bold text-purple-600">RAGF Gate</span>
                                <span class="flex-1 border-t-2 border-purple-300 mx-2"></span>
                                <span class="text-gray-500">validates</span>
                            </div>
                            <div class="ml-8 text-xs space-y-1 text-gray-600">
                                <div>‚îú‚îÄ PSD2 ‚Üí <span class="text-green-600">PASS</span></div>
                                <div>‚îú‚îÄ SCA ‚Üí <span class="text-yellow-600">ESCALATE</span></div>
                                <div>‚îî‚îÄ <strong>Stop</strong></div>
                            </div>
                            <div class="flex items-center">
                                <span class="w-32 font-bold text-green-600">Your System</span>
                                <span class="flex-1 border-t-2 border-green-300 mx-2"></span>
                                <span class="text-gray-500">executes or blocks</span>
                            </div>
                        </div>
                    </div>
                    <h3 class="text-2xl font-semibold mb-4">üíª Code Example</h3>
                    <div class="bg-gray-900 text-gray-100 p-6 rounded-lg mb-8 overflow-x-auto">
                        <pre class="text-sm"><code>// Your existing agent
function processPayment(amount, beneficiary) {
    // üîπ NEW: Validate with RAGF
    const result = await ragf.validate({
        amount: amount,
        beneficiary: beneficiary
    });
    
    // üîπ NEW: Check decision
    if (result.decision === "allow") {
        return executePayment();
    } else if (result.decision === "escalate") {
        return sendToHumanReview();
    } else {
        return blockAndLog();
    }
}</code></pre>
                    </div>
                    <h3 class="text-2xl font-semibold mb-4">üõ†Ô∏è What Changes?</h3>
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-500">
                            <h4 class="font-bold text-red-900 mb-3">‚ùå DON'T Change</h4>
                            <ul class="space-y-1 text-sm text-red-800">
                                <li>‚úì Your architecture</li>
                                <li>‚úì Your LLM</li>
                                <li>‚úì Your business logic</li>
                                <li>‚úì Your database</li>
                            </ul>
                        </div>
                        <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                            <h4 class="font-bold text-green-900 mb-3">‚úÖ ADD</h4>
                            <ul class="space-y-1 text-sm text-green-800">
                                <li>‚úì 1 validation call</li>
                                <li>‚úì 3 decision branches</li>
                                <li class="italic pt-2">~5-10 lines total</li>
                            </ul>
                        </div>
                    </div>
                    <div class="bg-blue-500 text-white p-6 rounded-lg">
                        <h3 class="text-xl font-bold mb-3">üöÄ Ready to Integrate?</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <a href="mailto:yamil@reflexio.studio?subject=RAGF Beta" class="block px-4 py-2 bg-white text-blue-600 rounded font-semibold hover:bg-blue-50 text-center">Request Beta ‚Üí</a>
                            <a href="/docs" target="_blank" class="block px-4 py-2 bg-blue-700 text-white rounded font-semibold hover:bg-blue-800 text-center">API Docs ‚Üí</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="lang-es hidden">
                <div class="bg-white p-8 rounded-lg shadow-lg max-w-5xl mx-auto">
                    <h2 class="text-3xl font-bold mb-6">Gu√≠a de Integraci√≥n</h2>
                    <div class="bg-blue-50 p-6 rounded-lg mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-3">ü§î La Pregunta</h3>
                        <p class="text-blue-800 text-lg italic mb-2">"¬øDebo mover mi c√≥digo? ¬øCambiar arquitectura? ¬øLlamar API?"</p>
                        <p class="text-blue-700 font-semibold">Respuesta: ¬°T√∫ eliges! RAGF se adapta a TU infraestructura.</p>
                    </div>
                    <h3 class="text-2xl font-semibold mb-6">üöÄ Tres Opciones</h3>
                    <div class="grid md:grid-cols-3 gap-6 mb-10">
                        <div class="border-2 border-blue-500 rounded-lg p-6">
                            <div class="text-4xl mb-3">‚òÅÔ∏è</div>
                            <h4 class="text-xl font-bold text-blue-600">SaaS</h4>
                            <div class="text-sm mt-4">‚úì Setup 5min ‚úì Auto-update ‚úì Cero infra</div>
                        </div>
                        <div class="border-2 border-purple-500 rounded-lg p-6">
                            <div class="text-4xl mb-3">üè¢</div>
                            <h4 class="text-xl font-bold text-purple-600">Auto-Host</h4>
                            <div class="text-sm mt-4">‚úì In-house ‚úì <5ms ‚úì Control</div>
                        </div>
                        <div class="border-2 border-green-500 rounded-lg p-6">
                            <div class="text-4xl mb-3">üîÑ</div>
                            <h4 class="text-xl font-bold text-green-600">H√≠brido</h4>
                            <div class="text-sm mt-4">‚úì On-prem + API ‚úì Migraci√≥n gradual</div>
                        </div>
                    </div>
                    <div class="bg-gray-900 text-white p-6 rounded mb-6">
                        <pre class="text-sm"><code>// Tu agente
function procesarPago(monto, beneficiario) {
    const resultado = await ragf.validar({...});
    if (resultado.decision === "allow") {
        return ejecutarPago();
    }
}</code></pre>
                    </div>
                    <div class="bg-blue-500 text-white p-6 rounded-lg">
                        <h3 class="text-xl font-bold mb-3">üöÄ ¬øListo?</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <a href="mailto:yamil@reflexio.studio?subject=Beta RAGF" class="block px-4 py-2 bg-white text-blue-600 rounded font-semibold text-center">Solicitar Beta ‚Üí</a>
                            <a href="/docs" target="_blank" class="block px-4 py-2 bg-blue-700 text-white rounded font-semibold text-center">Docs ‚Üí</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_URL = '/api';
        let currentLang = 'en';

        function setLanguage(lang) {
            currentLang = lang;
            document.querySelectorAll('.lang-en').forEach(el => el.classList.toggle('hidden', lang !== 'en'));
            document.querySelectorAll('.lang-es').forEach(el => el.classList.toggle('hidden', lang !== 'es'));
            document.getElementById('lang-en').className = lang === 'en' ? 'px-4 py-2 rounded-lg bg-blue-500 text-white font-semibold' : 'px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold';
            document.getElementById('lang-es').className = lang === 'es' ? 'px-4 py-2 rounded-lg bg-blue-500 text-white font-semibold' : 'px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold';
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.getElementById(`content-${tabName}`).classList.remove('hidden');
            document.querySelectorAll('[id^="tab-"]').forEach(el => {
                el.className = 'px-6 py-3 font-semibold text-gray-600 hover:text-gray-900 whitespace-nowrap';
            });
            if (document.getElementById(`tab-${tabName}`)) {
                document.getElementById(`tab-${tabName}`).className = 'px-6 py-3 font-semibold border-b-2 border-blue-500 text-blue-600 whitespace-nowrap';
            }
        }

        function resetResultPanel() {
            document.getElementById('reason').textContent = currentLang === 'en' ? 'Validating...' : 'Validando...';
            document.getElementById('teaching-point').textContent = currentLang === 'en' ? 'Please wait...' : 'Espera...';
            document.getElementById('regulatory').textContent = 'Loading...';
            document.getElementById('latency').textContent = '--';
            document.getElementById('scenario-id').textContent = '--';
            document.getElementById('action-payload').textContent = '';
            document.getElementById('remediation-section').classList.add('hidden');
            document.getElementById('decision-badge').innerHTML = `<span class="px-4 py-2 rounded-lg text-white bg-gray-400 font-bold animate-pulse">${currentLang === 'en' ? 'VALIDATING...' : 'VALIDANDO...'}</span>`;
        }

        async function loadScenarios() {
            try {
                const res = await fetch(`${API_URL}/scenarios`);
                const data = await res.json();
                document.getElementById('scenarios').innerHTML = data.scenarios.map(s => `
                    <div class="bg-white p-6 rounded-lg shadow-md cursor-pointer hover:shadow-xl transition-all transform hover:-translate-y-1" onclick="runScenario('${s.id}')">
                        <h3 class="text-lg font-bold mb-2">${s.title}</h3>
                        <p class="text-gray-600 text-sm mb-3">${s.description}</p>
                        <span class="text-xs px-3 py-1 rounded-full font-semibold ${s.expected_outcome === 'ALLOW' ? 'bg-green-100 text-green-800' : s.expected_outcome === 'DENY' ? 'bg-red-100 text-red-800' : 'bg-yellow-100 text-yellow-800'}">Expected: ${s.expected_outcome}</span>
                    </div>
                `).join('');
            } catch (error) {
                console.error('Failed to load scenarios:', error);
            }
        }

        async function runScenario(scenarioId) {
            const resultPanel = document.getElementById('result');
            resetResultPanel();
            resultPanel.classList.remove('hidden');
            resultPanel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

            try {
                const res = await fetch(`${API_URL}/validate`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({scenario_id: scenarioId})
                });
                const result = await res.json();
                const colors = {'allow': 'bg-green-500', 'deny': 'bg-red-500', 'escalate': 'bg-yellow-500'};
                const icons = {'allow': '‚úì', 'deny': '‚úï', 'escalate': '‚ö†'};
                
                document.getElementById('decision-badge').innerHTML = `<span class="px-6 py-3 rounded-lg text-white ${colors[result.decision]} text-xl font-bold shadow-lg">${icons[result.decision]} ${result.decision.toUpperCase()}</span>`;
                document.getElementById('reason').textContent = result.reason;
                document.getElementById('teaching-point').textContent = result.teaching_point;
                document.getElementById('regulatory').textContent = result.regulatory_ref;
                document.getElementById('latency').textContent = `${result.latency_ms}ms`;
                document.getElementById('scenario-id').textContent = result.scenario_id.toUpperCase();
                
                const remediationSection = document.getElementById('remediation-section');
                if (result.remediation && result.remediation !== "No action required") {
                    remediationSection.classList.remove('hidden');
                    document.getElementById('remediation').textContent = result.remediation;
                } else {
                    remediationSection.classList.add('hidden');
                }
                document.getElementById('action-payload').textContent = JSON.stringify(result.action_payload, null, 2);
            } catch (error) {
                console.error('Validation failed:', error);
            }
        }

        loadScenarios();
    </script>
</body>
</html>
